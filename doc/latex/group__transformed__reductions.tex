\section{Transformed Reductions}
\label{group__transformed__reductions}\index{Transformed Reductions@{Transformed Reductions}}
\subsection*{Functions}
\begin{CompactItemize}
\item 
{\footnotesize template$<$typename InputIterator1, typename InputIterator2, typename OutputType$>$ }\\OutputType {\bf komrade::inner\_\-product} (InputIterator1 first1, InputIterator1 last1, InputIterator2 first2, OutputType init)
\item 
{\footnotesize template$<$typename InputIterator1, typename InputIterator2, typename OutputType, typename BinaryFunction1, typename BinaryFunction2$>$ }\\OutputType {\bf komrade::inner\_\-product} (InputIterator1 first1, InputIterator1 last1, InputIterator2 first2, OutputType init, BinaryFunction1 binary\_\-op1, BinaryFunction2 binary\_\-op2)
\item 
{\footnotesize template$<$typename InputIterator, typename UnaryFunction, typename OutputType, typename BinaryFunction$>$ }\\OutputType {\bf komrade::transform\_\-reduce} (InputIterator begin, InputIterator end, UnaryFunction unary\_\-op, OutputType init, BinaryFunction binary\_\-op)
\end{CompactItemize}


\subsection{Function Documentation}
\index{transformed\_\-reductions@{transformed\_\-reductions}!inner\_\-product@{inner\_\-product}}
\index{inner\_\-product@{inner\_\-product}!transformed_reductions@{transformed\_\-reductions}}
\subsubsection[inner\_\-product]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename InputIterator1, typename InputIterator2, typename OutputType, typename BinaryFunction1, typename BinaryFunction2$>$ OutputType komrade::inner\_\-product (InputIterator1 {\em first1}, \/  InputIterator1 {\em last1}, \/  InputIterator2 {\em first2}, \/  OutputType {\em init}, \/  BinaryFunction1 {\em binary\_\-op1}, \/  BinaryFunction2 {\em binary\_\-op2})\hspace{0.3cm}{\tt  [inline]}}\label{group__transformed__reductions_gc4d7dfde21dd6ecc9405a0ccb9b276a5}


{\tt inner\_\-product} calculates an inner product of the ranges {\tt [first1, last1)} and {\tt [first2, first2 + (last1 - first1))}.

This version of {\tt inner\_\-product} is identical to the first, except that is uses two user-supplied function objects instead of {\tt operator+} and {\tt operator$\ast$}.

Specifically, this version of {\tt inner\_\-product} computes the sum {\tt binary\_\-op2(binary\_\-op2(binary\_\-op2(init, binary\_\-op1($\ast$first1, $\ast$first2)), (binary\_\-op2$\ast$(first1+1), $\ast$(first2+1))), ... ) }

Unlike the C++ Standard Template Library function {\tt std::inner\_\-product}, this version offers no guarantee on order of execution.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em first1}]The beginning of the first sequence. \item[{\em last1}]The end of the first sequence. \item[{\em first2}]The beginning of the second sequence. \item[{\em init}]Initial value of the result. \item[{\em binary\_\-op1}]Generalized addition operation. \item[{\em binary\_\-op2}]Generalized multiplication operation. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The inner product of sequences {\tt [first1, last1)} and {\tt [first2, last2)}.\end{Desc}
\begin{Desc}
\item[Template Parameters:]
\begin{description}
\item[{\em InputIterator1}]is a model of {\tt Input Iterator}, and {\tt InputIterator1's} {\tt value\_\-type} is convertible to {\tt BinaryFunction2's} {\tt first\_\-argument\_\-type}. \item[{\em InputIterator2}]is a model of {\tt Input Iterator}. and {\tt InputIterator2's} {\tt value\_\-type} is convertible to {\tt BinaryFunction2's} {\tt second\_\-argument\_\-type}. \item[{\em OutputType}]is a model of {\tt Assignable}, and {\tt OutputType} is convertible to {\tt BinaryFunction1's} {\tt first\_\-argument\_\-type}. \item[{\em BinaryFunction1}]is a model of {\tt Binary Function}, and {\tt BinaryFunction1's} {\tt return\_\-type} is convertible to {\tt OutputType}. \item[{\em BinaryFunction2}]is a model of {\tt Binary Function}, and {\tt BinaryFunction2's} {\tt return\_\-type} is convertible to {\tt BinaryFunction1's} {\tt second\_\-argument\_\-type}.\end{description}
\end{Desc}
\begin{Desc}
\item[See also:]{\tt http://www.sgi.com/tech/stl/inner\_\-product.html} \end{Desc}
\index{transformed\_\-reductions@{transformed\_\-reductions}!inner\_\-product@{inner\_\-product}}
\index{inner\_\-product@{inner\_\-product}!transformed_reductions@{transformed\_\-reductions}}
\subsubsection[inner\_\-product]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename InputIterator1, typename InputIterator2, typename OutputType$>$ OutputType komrade::inner\_\-product (InputIterator1 {\em first1}, \/  InputIterator1 {\em last1}, \/  InputIterator2 {\em first2}, \/  OutputType {\em init})\hspace{0.3cm}{\tt  [inline]}}\label{group__transformed__reductions_g847b0c1fe0afdbf2ee0d20e834c6ef59}


{\tt inner\_\-product} calculates an inner product of the ranges {\tt [first1, last1)} and {\tt [first2, first2 + (last1 - first1))}.

Specifically, this version of {\tt inner\_\-product} computes the sum {\tt init + ($\ast$first1 $\ast$ $\ast$first2) + ($\ast$(first1+1) $\ast$ $\ast$(first2+1)) + ... }

Unlike the C++ Standard Template Library function {\tt std::inner\_\-product}, this version offers no guarantee on order of execution.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em first1}]The beginning of the first sequence. \item[{\em last1}]The end of the first sequence. \item[{\em first2}]The beginning of the second sequence. \item[{\em init}]Initial value of the result. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The inner product of sequences {\tt [first1, last1)} and {\tt [first2, last2)} \doxyref{plus}{p.}{structkomrade_1_1plus} {\tt init}.\end{Desc}
\begin{Desc}
\item[Template Parameters:]
\begin{description}
\item[{\em InputIterator1}]is a model of {\tt Input Iterator}, \item[{\em InputIterator2}]is a model of {\tt Input Iterator}, \item[{\em OutputType}]is a model of {\tt Assignable}, and if {\tt x} is an object of type {\tt OutputType}, and {\tt y} is an object of {\tt InputIterator1's} {\tt value\_\-type}, and {\tt z} is an object of {\tt InputIterator2's} {\tt value\_\-type}, then {\tt x + y $\ast$ z} is defined and is convertible to {\tt OutputType}.\end{description}
\end{Desc}
The following code demonstrates how to use {\tt inner\_\-product} to compute the dot product of two vectors.



\begin{Code}\begin{verbatim}  #include <komrade/inner_product.h>
  ...
  float vec1[3] = {1.0f, 2.0f,  3.0f};
  float vec2[3] = {4.0f, 1.0f, -2.0f};

  float result = komrade::inner_product(vec1, vec1 + 3, vec2, 0.0f);

  // result == 0.0f
\end{verbatim}
\end{Code}



\begin{Desc}
\item[See also:]{\tt http://www.sgi.com/tech/stl/inner\_\-product.html} \end{Desc}
\index{transformed\_\-reductions@{transformed\_\-reductions}!transform\_\-reduce@{transform\_\-reduce}}
\index{transform\_\-reduce@{transform\_\-reduce}!transformed_reductions@{transformed\_\-reductions}}
\subsubsection[transform\_\-reduce]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename InputIterator, typename UnaryFunction, typename OutputType, typename BinaryFunction$>$ OutputType komrade::transform\_\-reduce (InputIterator {\em begin}, \/  InputIterator {\em end}, \/  UnaryFunction {\em unary\_\-op}, \/  OutputType {\em init}, \/  BinaryFunction {\em binary\_\-op})\hspace{0.3cm}{\tt  [inline]}}\label{group__transformed__reductions_gda4da363057b6e563181ffa3acb4583e}


{\tt transform\_\-reduce} fuses the {\tt transform} and {\tt reduce} operations. {\tt transform\_\-reduce} is equivalent to performing a transformation defined by {\tt unary\_\-op} into a temporary sequence and then performing {\tt reduce} on the transformed sequence. In most cases, fusing these two operations together is more efficient, since fewer memory reads and writes are required.

{\tt transform\_\-reduce} performs a reduction on the transformation of the sequence {\tt  init, [begin, end)} according to {\tt unary\_\-op}. Specifically, {\tt unary\_\-op} is applied to each element of the sequence and then the result is reduced to a single value with {\tt binary\_\-op} using the initial value {\tt init}. The order of reduction is not specified, so {\tt binary\_\-op} must be both commutative and associative. If {\tt binary\_\-op} is only associative, then komrade::stable\_\-transform\_\-reduce should be used instead.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em begin}]The beginning of the sequence. \item[{\em end}]The end of the sequence. \item[{\em unary\_\-op}]The function to apply to each element of the input sequence. \item[{\em init}]The result is initialized to this value. \item[{\em binary\_\-op}]The reduction operation. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The result of the transformed reduction.\end{Desc}
\begin{Desc}
\item[Template Parameters:]
\begin{description}
\item[{\em InputIterator}]is a model of {\tt Input Iterator}, and {\tt InputIterator's} {\tt value\_\-type} is convertible to {\tt UnaryFunction's} {\tt argument\_\-type}. \item[{\em UnaryFunction}]is a model of {\tt Unary Function}, and {\tt UnaryFunction's} {\tt result\_\-type} is convertible to {\tt BinaryFunction's} {\tt second\_\-argument\_\-type}. \item[{\em OutputType}]is a model of {\tt Assignable}, and is convertible to {\tt BinaryFunction's} {\tt first\_\-argument\_\-type}. \item[{\em BinaryFunction}]is a model of {\tt Binary Function}, and {\tt BinaryFunction's} {\tt result\_\-type} is convertible to {\tt OutputType}.\end{description}
\end{Desc}
The following code snippet demonstrates how to use {\tt transform\_\-reduce} to compute the \doxyref{maximum}{p.}{structkomrade_1_1maximum} value of the absolute value of the elements of a range.



\begin{Code}\begin{verbatim}  #include <komrade/transform_reduce.h>
  #include <komrade/functional.h>
  ...
  int data[6] = {-1, 0, -2, -2, 1, -3};
  int result = komrade::transform_reduce(data, data + 6,
                                         komrade::absolute_value<int>(),
                                         0, 
                                         komrade::maximum<int>());
  // result == 3
\end{verbatim}
\end{Code}



\begin{Desc}
\item[See also:]{\tt \doxyref{transform}{p.}{group__transformations_g0e5476c2ab92dbb29d1b7c849bf337af}} 

{\tt \doxyref{reduce}{p.}{group__reductions_g0dcb355a33d9f7ff07c21891fe3a2f89}} \end{Desc}
